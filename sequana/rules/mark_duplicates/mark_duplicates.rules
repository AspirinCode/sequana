rule mark_duplicates:
    input:
        config["output"] + "/bwa_mem/" + config["output"] + ".sorted.bam"
    output:
        config["output"] + "/mark_duplicates/" + config["output"] + ".bam"
    log:
        out = config["output"] + 
            "/logs/picard_tools/MarkDuplicates/stdout.logs",
        err = config["output"] + 
            "/logs/picard_tools/MarkDuplicates/stderr.logs",
        metrics = config["output"] + "/logs/picard_tools/MarkDuplicates/" + 
            config["output"] + ".metrics"
    shell:
        """
        picard MarkDuplicates I={input} \
        O={output} M={log.metrics} > {log.out} 2> {log.err}
        """
