rule mark_duplicates:
    input:
        "add_read_group/" + config["output"] + ".bam"
    output:
        "mark_duplicates/" + config["output"] + ".bam"
    log:
        out = config["output"] + 
            "_logs/picard_tools/MarkDuplicates/stdout.logs",
        err = config["output"] + 
            "_logs/picard_tools/MarkDuplicates/stderr.logs",
        metrics = config["output"] + "_logs/picard_tools/MarkDuplicates/" + 
            config["output"] + ".metrics"
    shell:
        """
        picard MarkDuplicates I={input} \
        O={output} M={log.metrics} > {log.out} 2> {log.err}
        """
