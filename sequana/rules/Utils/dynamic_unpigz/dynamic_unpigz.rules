# coding: utf-8
""" Dynamic rule to unpigz a zipped file.
"""

def dynamic_unpigz(name, project):
    metadata = {'name': name}
    dynamic_unpigz = '''
rule unpigz_%(name):
    input:
        input = __unpigz_%(name)s__input
    output:
        output = temp(__unpigz_%(name)s__output)
    threads: 4
    shell:
        """
        unpigz -fk {input} -p {threads} --stdout > {output}
        """


'''
    from sequana.snaketools import build_dynamic_rule
    return build_dynamic_rule(dynamic_unpigz % metadata, project.pipeline_dir)
