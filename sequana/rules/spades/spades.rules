rule spades:
    """ Spade is a de novo assembler designed for small genomes like bacteria 
    or fungi. This rule works only with paired-end files.
    """
    input:
        fastq = __spades__input
    output:
        contigs = __spades__contigs,
        scaffolds = __spades__scaffolds
    threads:
        config["spades"]["threads"]
    params:
        options = config["spades"]["options"],
        outdir = __spades__outdir
    shell:
        """
        # spades
        spades.py -t {threads} {params.options} -1 {input.fastq[0]} \
            -2 {input.fastq[1]} -o spades

        # rename assembly files
        mv spades/scaffolds.fasta {output.scaffolds}
        mv spades/contigs.fasta {output.contigs}
        """
